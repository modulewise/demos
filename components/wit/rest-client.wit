interface rest-client {
    record http-response {
        status: u16,
        headers: list<tuple<string, string>>,
        body: string,
    }

    /// HTTP GET request
    get: func(url: string, headers: list<tuple<string, string>>) -> result<http-response, string>;

    /// HTTP POST request
    post: func(url: string, headers: list<tuple<string, string>>, body: string) -> result<http-response, string>;
}

world rest-client-world {
    export rest-client;
    import wasi:http/outgoing-handler@0.2.3;
}
